import{a as R,i as a,S as I}from"./assets/vendor-CpoIZ0zF.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const k="43342378-f760c13e6ac2de41c368148af",S="https://pixabay.com/api/";async function U(e,r=1){try{return(await R.get(S,{params:{key:k,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:15}})).data}catch(n){throw n}}function x(e){const r=document.querySelector(".gallery");if(!r){console.error("Error: Gallery container not found");return}e.forEach(n=>{const l=document.createElement("li");l.classList.add("gallery-item");const t=document.createElement("a");t.classList.add("gallery-link"),t.href=n.largeImageURL;const o=document.createElement("img");o.classList.add("gallery-image"),o.src=n.webformatURL,o.dataset.source=n.largeImageURL,o.alt=n.tags,o.width="360px",o.height="auto",t.appendChild(o);const c={Likes:n.likes,Views:n.views,Comments:n.comments,Downloads:n.downloads},f=document.createElement("ul");f.classList.add("gallery-desc-list");for(let C in c){const h=document.createElement("li");h.classList.add("gallery-desc-item");const A=document.createElement("p");A.classList.add("gallery-desc-ttl"),A.textContent=C;const y=document.createElement("p");y.classList.add("gallery-desc-text"),y.textContent=c[C],h.append(A,y),f.append(h)}l.append(t,f),r.appendChild(l)}),e.length===0&&(a.error({theme:"dark",position:"topRight",message:"An error occurred while fetching images. Please try again later.",backgroundColor:"#ef4040",iconUrl:errorPng,maxWidth:"432px",timeout:2e3}),s(!1,"No images found.")),e.length>0&&new I(".gallery a",{captionsData:"alt",captionDelay:250})}function s(e,r=""){const n=document.querySelector(".load-button");e?n.classList.remove("is-hidden"):(n.classList.add("is-hidden"),r&&a.warning({title:"Caution",message:r,backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3}))}const E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgBrZVRDoMgDIar0fi6m2xH2Y3Ek2w3cFfZXXwBljFQCai0xemfoCaU/xNpKwAirXWrlDY5w8ViPhVmbgwIO14A3zeQKq/2IuwaqOu6A07+zaVUT8iUi+V28rd5NuSIOQs5wxyFUOZKqRtnmIpZQCZz3acWcgcXUjkF0b2bmwFSpAxskMAgYecaWSsFC8AgnHkMqIBR09TCGrnHsZic5iLs3By3ngWsITMgy9yphEyVJZjUM6esHUS9yfea7N7DAmJz/1niM2EhVBZR2UKl8DS/SFO80OhUnCBkoYWgz2MdNAx8q0jFOK/Fy1GQvdqYe50BQc3PgLDmRyCU+aYOfFsoCtPa+yXvp2/ue9rHqLATflCf5QflVUcNIrzeSwAAAABJRU5ErkJggg==",d=document.createElement("span");d.classList.add("loader");const L=document.createElement("div");L.classList.add("container");const w=document.createElement("form"),m=document.createElement("input");m.setAttribute("type","text");m.setAttribute("name","query");m.placeholder="Search images...";const b=document.createElement("button");b.setAttribute("type","submit");b.textContent="Search";const p=document.createElement("ul");p.classList.add("gallery");const i=document.createElement("button");i.setAttribute("type","button");i.classList.add("search-button");i.classList.add("load-button");i.classList.add("is-hidden");i.textContent="Load more";w.append(m,b);L.append(w);document.body.append(L);document.body.append(p,d,i);w.addEventListener("submit",F);let u=1,g="",B=15;async function F(e){if(e.preventDefault(),g=e.currentTarget.elements.query.value.trim(),g.trim()===""){a.warning({title:"Caution",message:"Type what you want to find!",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3});return}u=1,p.innerHTML="",d.classList.add("isVisible");try{const r=await U(g,u);if(r.hits.length===0){a.error({theme:"dark",position:"topRight",message:"image not found!",backgroundColor:"#ef4040",iconUrl:E,maxWidth:"432px",timeout:2e3}),s(!1),m.value="";return}m.value="",x(r.hits),q()?s(!1):s(!0)}catch(r){a.error({theme:"dark",position:"topRight",message:`An error occurred while fetching images. ${r}`,backgroundColor:"#ef4040",iconUrl:E,maxWidth:"432px",timeout:2e3})}finally{d.classList.remove("isVisible")}}i.addEventListener("click",v);async function v(){u++,d.classList.add("isVisible");try{const e=await U(g,u);x(e.hits),p.querySelectorAll(".gallery-item").length>=e.totalHits&&(s(!1),a.warning({title:"Caution",message:"No more images found.",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3})),s(e.totalHits>u*B),window.scrollBy({top:window.innerHeight,behavior:"smooth"})}catch{a.warning({title:"Caution",message:"No more images found.",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3}),s(!1)}finally{d.classList.remove("isVisible")}}function q(){const e=document.querySelectorAll(".gallery-item");return e.length?e[e.length-1].getBoundingClientRect().bottom<=window.innerHeight:!1}
//# sourceMappingURL=commonHelpers.js.map
