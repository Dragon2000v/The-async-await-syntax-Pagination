import{a as k,i as a,S as R}from"./assets/vendor-CpoIZ0zF.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const S="43342378-f760c13e6ac2de41c368148af",F="https://pixabay.com/api/";async function U(r,o=1){try{return(await k.get(F,{params:{key:S,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:15}})).data}catch(n){throw n}}function x(r){const o=document.querySelector(".gallery");if(!o){console.error("Error: Gallery container not found");return}r.forEach(n=>{const i=document.createElement("li");i.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=n.largeImageURL;const t=document.createElement("img");t.classList.add("gallery-image"),t.src=n.webformatURL,t.dataset.source=n.largeImageURL,t.alt=n.tags,t.width="360px",t.height="auto",e.appendChild(t);const c={Likes:n.likes,Views:n.views,Comments:n.comments,Downloads:n.downloads},f=document.createElement("ul");f.classList.add("gallery-desc-list");for(let C in c){const h=document.createElement("li");h.classList.add("gallery-desc-item");const A=document.createElement("p");A.classList.add("gallery-desc-ttl"),A.textContent=C;const y=document.createElement("p");y.classList.add("gallery-desc-text"),y.textContent=c[C],h.append(A,y),f.append(h)}i.append(e,f),o.appendChild(i)}),r.length===0&&(a.error({theme:"dark",position:"topRight",message:"An error occurred while fetching images. Please try again later.",backgroundColor:"#ef4040",iconUrl:errorPng,maxWidth:"432px",timeout:2e3}),l(!1,"No images found.")),r.length>0&&new R(".gallery a",{captionsData:"alt",captionDelay:250})}function l(r,o=""){const n=document.querySelector(".load-button");r?n.classList.remove("is-hidden"):(n.classList.add("is-hidden"),o&&a.warning({title:"Caution",message:o,backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3}))}const E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgBrZVRDoMgDIar0fi6m2xH2Y3Ek2w3cFfZXXwBljFQCai0xemfoCaU/xNpKwAirXWrlDY5w8ViPhVmbgwIO14A3zeQKq/2IuwaqOu6A07+zaVUT8iUi+V28rd5NuSIOQs5wxyFUOZKqRtnmIpZQCZz3acWcgcXUjkF0b2bmwFSpAxskMAgYecaWSsFC8AgnHkMqIBR09TCGrnHsZic5iLs3By3ngWsITMgy9yphEyVJZjUM6esHUS9yfea7N7DAmJz/1niM2EhVBZR2UKl8DS/SFO80OhUnCBkoYWgz2MdNAx8q0jFOK/Fy1GQvdqYe50BQc3PgLDmRyCU+aYOfFsoCtPa+yXvp2/ue9rHqLATflCf5QflVUcNIrzeSwAAAABJRU5ErkJggg==",d=document.createElement("span");d.classList.add("loader");const L=document.createElement("div");L.classList.add("container");const b=document.createElement("form"),u=document.createElement("input");u.setAttribute("type","text");u.setAttribute("name","query");u.placeholder="Search images...";const w=document.createElement("button");w.setAttribute("type","submit");w.textContent="Search";const p=document.createElement("ul");p.classList.add("gallery");const s=document.createElement("button");s.setAttribute("type","button");s.classList.add("search-button");s.classList.add("load-button");s.classList.add("is-hidden");s.textContent="Load more";b.append(u,w);L.append(b);document.body.append(L);document.body.append(p,d,s);b.addEventListener("submit",I);let m=1,g="",B=15;async function I(r){if(r.preventDefault(),g=r.currentTarget.elements.query.value.trim(),g.trim()===""){a.warning({title:"Caution",message:"Type what you want to find!",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3});return}m=1,p.innerHTML="",d.classList.add("isVisible");try{const o=await U(g,m);if(o.hits.length===0){a.error({theme:"dark",position:"topRight",message:"image not found!",backgroundColor:"#ef4040",iconUrl:E,maxWidth:"432px",timeout:2e3}),l(!1),u.value="";return}x(o.hits),l(o.totalHits)}catch(o){a.error({theme:"dark",position:"topRight",message:`An error occurred while fetching images. ${o}`,backgroundColor:"#ef4040",iconUrl:E,maxWidth:"432px",timeout:2e3})}finally{d.classList.remove("isVisible")}}s.addEventListener("click",v);async function v(){m++,d.classList.add("isVisible");try{const r=await U(g,m);x(r.hits),p.querySelectorAll(".gallery-item").length>=r.totalHits&&(l(!1),a.warning({title:"Caution",message:"No more images found.",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3})),l(r.totalHits>m*B),window.scrollBy({top:window.innerHeight,behavior:"smooth"})}catch{a.warning({title:"Caution",message:"No more images found.",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3}),l(!1)}finally{d.classList.remove("isVisible")}}
//# sourceMappingURL=commonHelpers.js.map
