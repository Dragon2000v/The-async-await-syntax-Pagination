import{a as R,S,i as d}from"./assets/vendor-CpoIZ0zF.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const k="43342378-f760c13e6ac2de41c368148af",B="https://pixabay.com/api/";async function U(r,o){try{return(await R.get(B,{params:{key:k,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:15}})).data}catch(a){throw a}}function x(r){const o=document.querySelector(".gallery");if(!o){console.error("Error: Gallery container not found");return}r.forEach(a=>{const s=document.createElement("li");s.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=a.largeImageURL;const t=document.createElement("img");t.classList.add("gallery-image"),t.src=a.webformatURL,t.dataset.source=a.largeImageURL,t.alt=a.tags,t.width="360px",t.height="auto",e.appendChild(t);const i={Likes:a.likes,Views:a.views,Comments:a.comments,Downloads:a.downloads},f=document.createElement("ul");f.classList.add("gallery-desc-list");for(let E in i){const h=document.createElement("li");h.classList.add("gallery-desc-item");const A=document.createElement("p");A.classList.add("gallery-desc-ttl"),A.textContent=E;const y=document.createElement("p");y.classList.add("gallery-desc-text"),y.textContent=i[E],h.append(A,y),f.append(h)}s.append(e,f),o.appendChild(s)}),r.length===0&&(iziToast.error({theme:"dark",position:"topRight",message:"An error occurred while fetching images. Please try again later.",backgroundColor:"#ef4040",iconUrl:errorPng,maxWidth:"432px",timeout:2e3}),c(!1)),r.length>0&&new S(".gallery a",{captionsData:"alt",captionDelay:250})}function c(r){const o=document.querySelector(".load-button");r?o.classList.remove("is-hidden"):o.classList.add("is-hidden")}const C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgBrZVRDoMgDIar0fi6m2xH2Y3Ek2w3cFfZXXwBljFQCai0xemfoCaU/xNpKwAirXWrlDY5w8ViPhVmbgwIO14A3zeQKq/2IuwaqOu6A07+zaVUT8iUi+V28rd5NuSIOQs5wxyFUOZKqRtnmIpZQCZz3acWcgcXUjkF0b2bmwFSpAxskMAgYecaWSsFC8AgnHkMqIBR09TCGrnHsZic5iLs3By3ngWsITMgy9yphEyVJZjUM6esHUS9yfea7N7DAmJz/1niM2EhVBZR2UKl8DS/SFO80OhUnCBkoYWgz2MdNAx8q0jFOK/Fy1GQvdqYe50BQc3PgLDmRyCU+aYOfFsoCtPa+yXvp2/ue9rHqLATflCf5QflVUcNIrzeSwAAAABJRU5ErkJggg==",l=document.createElement("span");l.classList.add("loader");const L=document.createElement("div");L.classList.add("container");const w=document.createElement("form"),u=document.createElement("input");u.setAttribute("type","text");u.setAttribute("name","query");u.placeholder="Search images...";const b=document.createElement("button");b.setAttribute("type","submit");b.textContent="Search";const p=document.createElement("ul");p.classList.add("gallery");const n=document.createElement("button");n.setAttribute("type","button");n.classList.add("search-button");n.classList.add("load-button");n.classList.add("is-hidden");n.textContent="Load more";w.append(u,b);L.append(w);document.body.append(L);document.body.append(p,l,n);w.addEventListener("submit",F);let m=1,g="";async function F(r){if(r.preventDefault(),g=r.currentTarget.elements.query.value.trim(),g.trim()===""){d.warning({title:"Caution",message:"Type what you want to find!",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3});return}m=1,p.innerHTML="",l.classList.add("isVisible");try{const o=await U(g,m);if(o.hits.length===0){d.error({theme:"dark",position:"topRight",message:"An error occurred while fetching images. Please try again later..",backgroundColor:"#ef4040",iconUrl:C,maxWidth:"432px",timeout:2e3}),c(!1),u.value="";return}x(o.hits),c(o.totalHits)}catch(o){d.error({theme:"dark",position:"topRight",message:`An error occurred while fetching images. ${o}`,backgroundColor:"#ef4040",iconUrl:C,maxWidth:"432px",timeout:2e3})}finally{l.classList.remove("isVisible")}}n.addEventListener("click",I);async function I(){m++,l.classList.add("isVisible");try{const r=await U(g,m);x(r.hits),p.querySelectorAll(".gallery-item").length>=r.totalHits&&(c(!1),d.warning({title:"Caution",message:"No more images found.",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3})),c(r.totalHits>m*15),window.scrollBy({top:window.innerHeight,behavior:"smooth"})}catch{d.warning({title:"Caution",message:"No more images found.",backgroundColor:"#FFA000",position:"topRight",theme:"dark",iconUrl:"",timeout:2e3}),c(!1)}finally{l.classList.remove("isVisible")}}
//# sourceMappingURL=commonHelpers.js.map
